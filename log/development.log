Started GET "/" for 127.0.0.1 at 2018-10-09 15:36:54 -0700

ActiveRecord::PendingMigrationError - Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

:

Started POST "/__better_errors/46b8c2f91132e671/variables" for 127.0.0.1 at 2018-10-09 15:36:57 -0700
  [1m[35m (16.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  â†³ bin/rails:9
  [1m[35m (29.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2858612640425468220)[0m
  â†³ bin/rails:9
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to CreateUsers (20181009221945)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (29.4ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "fname" character varying NOT NULL, "lname" character varying NOT NULL, "email" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20181009221945_create_users.rb:3
  [1m[35m (5.7ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20181009221945_create_users.rb:12
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20181009221945"]]
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (0.9ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-10-09 22:37:42.780919"], ["updated_at", "2018-10-09 22:37:42.780919"]]
  â†³ bin/rails:9
  [1m[35m (6.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2858612640425468220)[0m
  â†³ bin/rails:9
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-10-09 15:37:50 -0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/stephaniehsu/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (2.1ms)
Completed 200 OK in 1488ms (Views: 1485.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:38:23 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:39:52 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 27ms (Views: 24.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:39:54 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:39:56 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:40:06 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:17 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:19 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 20ms (Views: 18.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:19 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:19 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:24 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.9ms)
Completed 200 OK in 29ms (Views: 27.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:45 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:46 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 25ms (Views: 23.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:46 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:42:46 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:43:10 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:43:11 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:43:11 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:43:12 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 22ms (Views: 20.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:43:12 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 28ms (Views: 25.4ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:44:34 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 33ms (Views: 31.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:44:42 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:46:01 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 35ms (Views: 33.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:46:02 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 24ms (Views: 22.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:46:02 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 32ms (Views: 28.5ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:46:03 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.5ms)
Completed 200 OK in 22ms (Views: 19.9ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 15:46:31 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 249ms (Views: 247.1ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 16:16:27 -0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/stephaniehsu/.rbenv/versions/2.3.1/lib/ruby/gems/2.3.0/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.7ms)
Completed 200 OK in 1004ms (Views: 1001.2ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 16:19:22 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 28ms (Views: 25.2ms | ActiveRecord: 0.0ms)


  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "mochi"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("fname", "lname", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["fname", "mochi"], ["lname", "mill"], ["email", "mochi"], ["password_digest", "$2a$10$llEOWhCsmGyEmZLFNA/TlOHWuJOGiAgzyW2Kg3AGzqkRi5ZzPKN9e"], ["session_token", "y91FvqnyEZnJOHYrepIZ-g"], ["created_at", "2018-10-10 00:01:31.821927"], ["updated_at", "2018-10-10 00:01:31.821927"]]
  [1m[35m (5.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started GET "/" for 127.0.0.1 at 2018-10-09 17:16:52 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 214ms (Views: 211.3ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 17:20:28 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:25:18 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"username"=>"bob", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 26ms (ActiveRecord: 4.7ms)



NoMethodError - undefined method `find_by_credential' for #<Class:0x007fae1c29a0f0>
Did you mean?  find_by_credentials:
  app/controllers/api/sessions_controller.rb:3:in `create'

Started POST "/api/users" for 127.0.0.1 at 2018-10-09 17:26:39 -0700
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]", "fname"=>"pepporni", "lname"=>"pizza"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pizza"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("fname", "lname", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["fname", "pepporni"], ["lname", "pizza"], ["email", "pizza"], ["password_digest", "$2a$10$W7oSQIFoR18Iu.BZJ96TTuF5rSuB5vfoWp7hrCPQkmTbwrZmPBxjq"], ["session_token", "pCmWR1qrmVkWZdVNrJU-5g"], ["created_at", "2018-10-10 00:26:39.767771"], ["updated_at", "2018-10-10 00:26:39.767771"]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pizza"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "guWVHAKDlYuVEx1TJje5GA"], ["updated_at", "2018-10-10 00:26:39.774291"], ["id", 2]]
  â†³ app/models/user.rb:27
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/show.json.jbuilder (5.3ms)
Completed 200 OK in 97ms (Views: 11.6ms | ActiveRecord: 9.1ms)


  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:28:51 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.0ms)



NoMethodError - undefined method `find_by_credential' for #<Class:0x007fae1c29a0f0>
Did you mean?  find_by_credentials:
  app/controllers/api/sessions_controller.rb:3:in `create'

Started GET "/" for 127.0.0.1 at 2018-10-09 17:32:55 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:33:08 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
Completed 500 Internal Server Error in 24ms (ActiveRecord: 2.1ms)



NoMethodError - undefined method `find_by_credential' for #<Class:0x007fae147dc200>
Did you mean?  find_by_credentials:
  app/controllers/api/sessions_controller.rb:3:in `create'

Started GET "/" for 127.0.0.1 at 2018-10-09 17:34:02 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 29ms (Views: 27.2ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:34:08 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:35:55 -0700
Started POST "/api/users" for 127.0.0.1 at 2018-10-09 17:35:55 -0700
  [1m[36mUser Load (4.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pizza"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
Completed 500 Internal Server Error in 107174ms (ActiveRecord: 7.8ms)



PG::UndefinedColumn - ERROR:  column users.username does not exist
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."username" = $1...
                                             ^
:
  app/models/user.rb:8:in `find_by_credentials'
  app/controllers/api/sessions_controller.rb:4:in `create'

Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"pickle", "password"=>"[FILTERED]", "fname"=>"mr", "lname"=>"pickles"}}
  [1m[36mUser Load (4.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pizza"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
Completed 500 Internal Server Error in 1106ms (ActiveRecord: 4.9ms)



PG::UndefinedColumn - ERROR:  column users.username does not exist
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."username" = $1...
                                             ^
:
  app/models/user.rb:8:in `find_by_credentials'
  app/controllers/api/sessions_controller.rb:4:in `create'

  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pickle"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("fname", "lname", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["fname", "mr"], ["lname", "pickles"], ["email", "pickle"], ["password_digest", "$2a$10$2qJ5ls7LmkLpVANyqSL70Ot.iX9asTKbxVE35iCFG15YTZCgkvgk."], ["session_token", "4YXApXfTJteq2c56tNGn-g"], ["created_at", "2018-10-10 00:35:56.866080"], ["updated_at", "2018-10-10 00:35:56.866080"]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "TK7bxtux2CiEHDwqsMWhcQ"], ["updated_at", "2018-10-10 00:35:56.872782"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.4ms)
  Rendered api/users/show.json.jbuilder (1.5ms)
Completed 200 OK in 107ms (Views: 7.5ms | ActiveRecord: 19.8ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:36:14 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pizza"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
Completed 500 Internal Server Error in 13ms (ActiveRecord: 6.7ms)



PG::UndefinedColumn - ERROR:  column users.username does not exist
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."username" = $1...
                                             ^
:
  app/models/user.rb:8:in `find_by_credentials'
  app/controllers/api/sessions_controller.rb:3:in `create'

Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:36:21 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pickle", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "pickle"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
Completed 500 Internal Server Error in 3ms (ActiveRecord: 1.8ms)



PG::UndefinedColumn - ERROR:  column users.username does not exist
LINE 1: SELECT  "users".* FROM "users" WHERE "users"."username" = $1...
                                             ^
:
  app/models/user.rb:8:in `find_by_credentials'
  app/controllers/api/sessions_controller.rb:3:in `create'

Started GET "/" for 127.0.0.1 at 2018-10-09 17:38:25 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.5ms)
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:38:41 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pickle", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pickle"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "uvXFsix6oUkmvUU1yMIhUA"], ["updated_at", "2018-10-10 00:38:42.012991"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/show.json.jbuilder (1.4ms)
Completed 200 OK in 93ms (Views: 7.0ms | ActiveRecord: 9.6ms)


Started DELETE "/api/session" for 127.0.0.1 at 2018-10-09 17:39:11 -0700
Processing by Api::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "uvXFsix6oUkmvUU1yMIhUA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "k-Sfp_iXYwvGLh5-k12hTw"], ["updated_at", "2018-10-10 00:39:11.471215"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (14.2ms)
  Rendered api/users/show.json.jbuilder (15.5ms)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.7ms)



NoMethodError - undefined method `id' for nil:NilClass:
  app/views/api/users/_user.json.jbuilder:2:in `_app_views_api_users__user_json_jbuilder__1556991479271069891_70192877107860'
  app/views/api/users/show.json.jbuilder:1:in `_app_views_api_users_show_json_jbuilder__2371421380691196027_70192877222500'
  app/controllers/api/sessions_controller.rb:15:in `destroy'

Started GET "/" for 127.0.0.1 at 2018-10-09 17:40:53 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.4ms)
Completed 200 OK in 35ms (Views: 32.8ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:41:01 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pickle", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pickle"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "Bx1VztW2qY2p37oFEpudEg"], ["updated_at", "2018-10-10 00:41:01.234228"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/show.json.jbuilder (1.4ms)
Completed 200 OK in 81ms (Views: 7.2ms | ActiveRecord: 6.8ms)


Started DELETE "/api/session" for 127.0.0.1 at 2018-10-09 17:41:16 -0700
Processing by Api::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "Bx1VztW2qY2p37oFEpudEg"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "c5W8vnB4foNBYipgPVkN3g"], ["updated_at", "2018-10-10 00:41:16.831579"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (5.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  Rendered api/users/_user.json.jbuilder (1.8ms)
  Rendered api/users/show.json.jbuilder (3.2ms)
Completed 200 OK in 23ms (Views: 10.2ms | ActiveRecord: 7.4ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:41:30 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pickle", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pickle"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "hXFTQofo4Ow49dRx2k8PpA"], ["updated_at", "2018-10-10 00:41:30.882648"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (5.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/show.json.jbuilder (1.5ms)
Completed 200 OK in 81ms (Views: 8.2ms | ActiveRecord: 6.9ms)


Started DELETE "/api/session" for 127.0.0.1 at 2018-10-09 17:41:43 -0700
Processing by Api::SessionsController#destroy as JSON
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "hXFTQofo4Ow49dRx2k8PpA"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pickle"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "SUEk6Kez9YSxnTZsjQS3lA"], ["updated_at", "2018-10-10 00:41:43.030672"], ["id", 3]]
  â†³ app/models/user.rb:27
  [1m[35m (5.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  Rendered api/users/_user.json.jbuilder (1.9ms)
  Rendered api/users/show.json.jbuilder (3.5ms)
Completed 200 OK in 23ms (Views: 10.9ms | ActiveRecord: 7.2ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 17:42:17 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.3ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-10-09 17:55:58 -0700
Processing by StaticPagesController#root as HTML
  Rendering static_pages/root.html.erb within layouts/application
  Rendered static_pages/root.html.erb within layouts/application (0.6ms)
Completed 200 OK in 273ms (Views: 271.0ms | ActiveRecord: 0.0ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:57:22 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/user.rb:8
Completed 500 Internal Server Error in 11ms (ActiveRecord: 5.7ms)



ArgumentError - wrong number of arguments (given 3, expected 0..2):
  app/controllers/api/sessions_controller.rb:8:in `create'

Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:58:05 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pizza"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pizza"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.6ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "cnJKC7kWs_EEieR3gCtH4A"], ["updated_at", "2018-10-10 00:58:05.769471"], ["id", 2]]
  â†³ app/models/user.rb:27
  [1m[35m (5.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.2ms)
  Rendered api/users/show.json.jbuilder (1.5ms)
Completed 200 OK in 95ms (Views: 8.5ms | ActiveRecord: 12.3ms)


Started POST "/api/session" for 127.0.0.1 at 2018-10-09 17:58:22 -0700
Processing by Api::SessionsController#create as JSON
  Parameters: {"user"=>{"email"=>"pizza", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "pizza"], ["LIMIT", 1]]
  â†³ app/models/user.rb:8
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pizza"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "xAWHAchS2d1j99-Ls0dtUg"], ["updated_at", "2018-10-10 00:58:22.884944"], ["id", 2]]
  â†³ app/models/user.rb:27
  [1m[35m (5.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.3ms)
  Rendered api/users/show.json.jbuilder (1.4ms)
Completed 200 OK in 80ms (Views: 6.9ms | ActiveRecord: 7.1ms)


Started DELETE "/api/session" for 127.0.0.1 at 2018-10-09 17:58:55 -0700
Processing by Api::SessionsController#destroy as JSON
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "xAWHAchS2d1j99-Ls0dtUg"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "pizza"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "PeE7f4yNURZ8VsXLSwA1dw"], ["updated_at", "2018-10-10 00:58:55.166426"], ["id", 2]]
  â†³ app/models/user.rb:27
  [1m[35m (6.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:16
  Rendered api/users/_user.json.jbuilder (1.8ms)
  Rendered api/users/show.json.jbuilder (2.9ms)
Completed 200 OK in 25ms (Views: 11.3ms | ActiveRecord: 8.0ms)


Started POST "/api/users" for 127.0.0.1 at 2018-10-09 17:59:58 -0700
Processing by Api::UsersController#create as JSON
  Parameters: {"user"=>{"email"=>"burger", "password"=>"[FILTERED]", "fname"=>"cheese", "lname"=>"burger"}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "burger"], ["LIMIT", 1]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("fname", "lname", "email", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["fname", "cheese"], ["lname", "burger"], ["email", "burger"], ["password_digest", "$2a$10$ROGPB2s0kKFsOIOw18H3qOKk/WfdJ48myXD490Xk4eq9rgyvdOvbG"], ["session_token", "_ocCgZ1t8IjZWp0DuFTyPQ"], ["created_at", "2018-10-10 00:59:58.648505"], ["updated_at", "2018-10-10 00:59:58.648505"]]
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/api/users_controller.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:27
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["email", "burger"], ["id", 4], ["LIMIT", 1]]
  â†³ app/models/user.rb:27
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "fbekl-4P2068660e-sEl7w"], ["updated_at", "2018-10-10 00:59:58.654382"], ["id", 4]]
  â†³ app/models/user.rb:27
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:27
  Rendering api/users/show.json.jbuilder
  Rendered api/users/_user.json.jbuilder (0.5ms)
  Rendered api/users/show.json.jbuilder (1.8ms)
Completed 200 OK in 84ms (Views: 11.8ms | ActiveRecord: 4.8ms)


